<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMT_Project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<div class="title m-5">
    <h2 class="text-center">Cambodian Braille Machine Translation</h2>
</div>
<div class="container">
    <div class="row">
        <div class="col">
            <form id="textForm" action="/translation" method="post">
                <textarea id="textInput" name="text" class="form-control" placeholder="In put text here" id="floatingTextarea2" style="height: 250px">{{ content }} {{ input }}</textarea>
                <button id="translateButton" type="submit"  class="btn btn-outline-primary mt-4">Translate</button>
            </form>
        </div>
        <div class="col">
            <div class="mt-3">
                <form id="fileForm" action = "/upload" method = "post" 
                    enctype = "multipart/form-data">
                    <input id="fileInput" type = "file" name = "file" />
                    <button id="uploadFile" type="submit" class="btn btn-outline-primary">Upload File</button>
                </form> 
            </div>
           
        </div>
        <div class="row mt-4">
            <div class="col">
                <h3>Translation</h3>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <textarea id="floatingTextarea2" readonly class="form-control"  style="height: 250px">{{ result }}</textarea>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <p>
                    <form id="downloadFile" action="/downloadFile">
                        <button type="submit" id="downloadButton" class="btn btn-outline-primary">Download File</button>
                    </form>
                </p>
            </div>
        </div>
    </div>
</div>  
</body>
</html>
<script>
    document.getElementById("downloadButton").disabled = true
    document.getElementById("translateButton").disabled = true
    document.getElementById("uploadFile").disabled = true;

    
    document.getElementById("fileForm").addEventListener("input", function() {
        document.getElementById("textInput").disabled = true;
        document.getElementById("uploadFile").disabled = false;
        
    });

    // Disable file input and enable text input when text form is submitted
    document.getElementById("textForm").addEventListener("input", function() {
        document.getElementById("fileInput").disabled = true;
        document.getElementById("uploadFile").disabled = true;
        document.getElementById("translateButton").disabled = false
    });
    
    document.getElementById("fileForm").addEventListener("submit", function() {
        alert("You will uplodoad file to translate");
      
    });
    isInput()
    function isDownload(){
        if(document.getElementById("textInput").value != ""){
            document.getElementById("translateButton").disabled = false
        }
    }
    function isInput(){
        if(document.getElementById("floatingTextarea2").value != ""){
            document.getElementById("downloadButton").disabled = false
        }
    }
    isDownload()
    document.getElementById("downloadFile").addEventListener("submit", function() {
        document.getElementById("downloadButton").disabled = true
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>



 